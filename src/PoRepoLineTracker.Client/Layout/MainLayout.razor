@inherits LayoutComponentBase
@using PoRepoLineTracker.Client.Layout
@using Radzen
@using Radzen.Blazor
@inject NavigationManager Navigation

<RadzenLayout>
    <RadzenHeader>
        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" JustifyContent="JustifyContent.SpaceBetween" Gap="1rem" class="rz-p-4">
            <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
                <RadzenIcon Icon="analytics" Style="font-size: 1.5rem; color: var(--rz-primary);" />
                <RadzenText TextStyle="TextStyle.H5" Style="margin: 0; font-weight: 600;">PoRepoLineTracker</RadzenText>
            </RadzenStack>
            
            <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="0.5rem">
                <RadzenButton Icon="settings" 
                              ButtonStyle="ButtonStyle.Light" 
                              Variant="Variant.Text"
                              Click="@(() => Navigation.NavigateTo("/settings/extensions-counted"))"
                              title="Settings" />
                <LoginDisplay />
                <RadzenButton Icon="@(sidebarExpanded ? "menu_open" : "menu")" 
                              ButtonStyle="ButtonStyle.Light" 
                              Variant="Variant.Text"
                              Click="@ToggleSidebar"
                              class="rz-display-none-lg" />
            </RadzenStack>
        </RadzenStack>
    </RadzenHeader>
    
    <RadzenSidebar @bind-Expanded="@sidebarExpanded" Style="width: 280px; background: var(--rz-sidebar-background-color);">
        <RadzenPanelMenu>
            <NavMenu />
        </RadzenPanelMenu>
    </RadzenSidebar>
    
    <RadzenBody>
        <div class="rz-p-4">
            @Body
        </div>
    </RadzenBody>
</RadzenLayout>

<RadzenDialog />
<RadzenNotification />
<RadzenTooltip />
<RadzenContextMenu />

@code {
    private bool sidebarExpanded = true;

    private void ToggleSidebar()
    {
        sidebarExpanded = !sidebarExpanded;
    }
}
