@inherits LayoutComponentBase
@using PoRepoLineTracker.Client.Layout

<div class="rz-layout">
    <div class="rz-header">
        <div class="container">
            <div class="d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center" style="gap: 1rem;">
                    <i class="material-icons" style="font-size: 2rem; color: var(--primary-color);">analytics</i>
                    <div>
                        <h4 class="mb-0" style="font-weight: 600; color: var(--text-primary);">PoRepoLineTracker</h4>
                        <span style="font-size: var(--text-sm); color: var(--text-secondary);">Repository Line Count Analysis and Tracking</span>
                    </div>
                </div>
                
                <!-- Mobile menu button -->
                <button class="btn btn-outline-primary d-lg-none" type="button" @onclick="ToggleMobileMenu" aria-label="Toggle navigation">
                    <i class="material-icons">@(isMobileMenuOpen ? "close" : "menu")</i>
                </button>
                
                <!-- Desktop navigation -->
                <div class="d-none d-lg-flex align-items-center">
                    <a href="https://learn.microsoft.com/aspnet/core/" target="_blank" 
                       class="btn btn-outline-secondary">
                        <i class="material-icons me-2">info</i> About
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="rz-body">
        <!-- Mobile sidebar overlay -->
        <div class="mobile-sidebar-overlay @(isMobileMenuOpen ? "show" : "")" @onclick="CloseMobileMenu"></div>
        
        <!-- Sidebar -->
        <div class="rz-sidebar @(isMobileMenuOpen ? "show" : "")">
            <NavMenu />
        </div>
        
        <!-- Main content -->
        <div class="rz-content-container">
            <div class="container">
                @Body
            </div>
        </div>
    </div>
    
    <div class="rz-footer">
        <div class="container">
            <div class="d-flex align-items-center justify-content-between flex-wrap" style="gap: 1rem; font-size: var(--text-xs); color: var(--text-muted);">
                <span>© 2025 PoRepoLineTracker - Built with Blazor & Radzen</span>
                <span>Professional Theme</span>
            </div>
        </div>
    </div>
</div>

@code {
    private bool isMobileMenuOpen = false;

    private void ToggleMobileMenu()
    {
        isMobileMenuOpen = !isMobileMenuOpen;
    }

    private void CloseMobileMenu()
    {
        isMobileMenuOpen = false;
    }
}
